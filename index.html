<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0f1620" />
  <title>傲慢之塔 Web</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header class="bar">
    <div class="title">《傲慢之塔》Web（GitHub Pages 版）</div>
    <div class="row" style="justify-content:flex-end; gap:10px;">
  <div id="versionTag" class="pill mono"></div>
  <button id="settingsBtn" class="iconbtn" title="設定">⚙️</button>
  <div id="playerQuick"></div>
</div>
  </header>

  <main class="grid">
    <section class="card">
      <h2>角色</h2>

      <div class="tabs">
        <button class="tab active" data-tab="role">角色資訊</button>
        <button class="tab" data-tab="bag">百納袋</button>
        <button class="tab" data-tab="floors">樓層</button>
      </div>

      <div class="panel" data-panel="role">
        <div id="auth"></div>

        <div class="row" style="margin-top:8px;">
          <label class="chk">
            <input id="badge" type="checkbox" />
            配戴「百納袋胸章」
          </label>
        </div>
        <div class="small">未配戴者：擊殺不會獲得任何掉落（Canon）</div>

        <hr/>
        <div id="playerDetails"></div>
        <hr/>
        <div id="versionInfo" class="small"></div>
      </div>

      <div class="panel hidden" data-panel="bag">
        <div id="bag"></div>
      </div>

      <div class="panel hidden" data-panel="floors">
        <div id="floors"></div>
        <hr/>
        <h3 class="sub">歷練</h3>
        <div id="hunt"></div>
      </div>
    </section>
<section class="card">
      <h2>狩獵</h2>
      <div id="hunt"></div>
    </section>

    <section class="card">
      <h2>歷程</h2>
      <div id="history"></div>
    </section>
</main>

  <script type="module" src="./main.js"></script>

  <div id="settingsModal" class="modal hidden" role="dialog" aria-modal="true" aria-label="設定">
    <div class="modalCard">
      <div class="row" style="justify-content:space-between; align-items:center;">
        <h2 style="margin:0;">設定</h2>
        <button id="settingsClose" class="iconbtn" title="關閉">✕</button>
      </div>

      <div class="small" style="margin-top:8px;">
        這裡可以匯出/匯入「存檔 JSON」的 Base64 代碼。<br/>
        注意：此操作會直接覆蓋目前存檔（localStorage）。
      </div>

      <hr/>
      <div class="small">Base64 代碼</div>
      <textarea id="saveCode" class="textarea" rows="6" placeholder="貼上 Base64 代碼…"></textarea>

      <div class="row" style="margin-top:10px;">
        <button id="btnExport">匯出 Base64</button>
        <button id="btnCopy" style="background:#334155;">複製</button>
        <button id="btnImport" style="background:#16a34a;">匯入 Base64</button>
      </div>

      <div class="row" style="margin-top:10px;">
        <button id="btnDownloadJson" style="background:#0ea5e9;">下載 JSON</button>
        <label class="iconbtn" style="padding:8px 12px; border-radius:12px;">
          上傳 JSON
          <input id="fileJson" type="file" accept="application/json" style="display:none;" />
        </label>
      </div>

      <div id="settingsMsg" class="small" style="margin-top:10px; opacity:.9;"></div>
    </div>
  </div>

</body>
</html>
